<!DOCTYPE html>
<html lang="ru">
<head>
    <!-- META SECTION -->
    <title>Ключевой - твой надёжный партнёр</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <!-- END META SECTION -->
    <link rel="stylesheet" type="text/css" href="../../static/front-end/build/css/styles.css" media="screen"/>
    <script src="../../static/bower_components/angular/angular.min.js"></script>
    <script src="../../static/bower_components/angular-webstorage/angular-webstorage.min.js"></script>
</head>
<body>
<!-- page container -->
<div class="page-container">

    <!-- page header -->
    <div class="page-header">

        <!-- page header holder -->
        <div class="page-header-holder">

            <!-- page logo -->
            <div class="logo">
                <a href="index.html">Ключевой - твой надёжный партнёр</a>
            </div>
            <!-- ./page logo -->


            <!-- nav mobile bars -->
            <div class="navigation-toggle">
                <div class="navigation-toggle-button"><span class="fa fa-bars"></span></div>
            </div>
            <!-- ./nav mobile bars -->

            <!-- navigation -->
            <ul class="navigation">
                <li>
                    <a href="#advantages">Преимущества</a>
                </li>
                <li>
                    <a href="#">Услуги</a>
                </li>
                <li>
                    <a href="#tech">Технологии</a>
                </li>
                <li>
                    <a href="#">База знаний</a>
                </li>
                <li>
                    <a href="#">Контакты</a>
                </li>
                <li id="cabinet">
                    <a href="#"><strong>Личный кабинет</strong></a>
                </li>
            </ul>
            <!-- ./navigation -->


        </div>
        <!-- ./page header holder -->

    </div>
    <!-- ./page header -->

    <!-- page content -->
    <div class="page-content" ng-app="app">
        <div class="page-content-wrap start-bg">
            <div class="page-content-holder padding-v-50">
                <div class="table-padding" ng-controller="registration">
                    <form class="step" ng-hide="step !== 1">
                            <h3 class="step">Шаг 1</h3>
                            <label for="website">Адрес вашего сайта</label>
                            <input class="form-control" id="website" value="http://yoursite.com"/>
                            <br>

                            <div class="row">

                                <div class="col-left col-lg-6">
                                    <label for="keywords">Поисковые запросы</label>

                                    <div class="input-group">
                                        <input type="text" ng-model="keyword" placeholder="Введите ключевое слово"
                                               class="form-control"/>

                                        <div class="input-group-btn">
                                            <button ng-click="addKeyword(keyword)" class="btn btn-warning">
                                                Добавить
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-lg-6 affiliate-budget">
                                    <label for="budget">Бюджет вашей рекламной кампании</label>
                                    <input ng-model="budget" ng-focus="removeCurrency(budget)" ng-blur="addCurrency(budget)" class="form-control input-sm" id="budget" value="300 руб."/>
                                </div>
                            </div>
                            <br>
                             <table ng-model="keywords" ng-hide="keywords.length === 0" class="table table-bordered" id="keywords">
                                <thead>
                                <td>
                                    <strong>Ключевое слово</strong>
                                </td>
                                <td>
                                    <strong>Индекс популярности</strong>
                                </td>
                                <td></td>
                                </thead>
                                <tbody>
                                <tr ng-repeat="keyword in keywords">
                                    <td>
                                        {{ keyword.word }}
                                    </td>
                                    <td>
                                        <i class="fa fa-group {{ keyword.class }}"> {{ keyword.popularity }}</i>
                                        <a href="https://www.google.ru/webhp?sourceid=chrome-instant&ion=1&espv=2&ie=UTF-8#q={{ keyword.word }}"><i class="fa fa-google"></i></a>
                                        <a href="https://yandex.ru/yandsearch?lr=213&text={{ keyword.word }}"><i class="fa fa-ya"></i></a>
                                    </td>
                                    <td>
                                        <button  ng-click="deleteKeyword($index, keyword)" class="btn btn-default fa fa-trash-o"></button>
                                    </td>
                                </tr>
                                </tbody>
                            </table>

                            <button class="btn btn-info calculate">Посчитать объём привлечения</button>

                            <div class="affiliate-info">
                                <span>Ожидаемый объём привлечения по заданным поисковым запросам:</span>
                                <p><strong>125</strong> потенциальных клиентов в течении <strong>1 - 1.5 месяца</strong></p>
                                <br>
                            </div>
                            <button ng-click="moveStep2()" style="float: right;" class="btn btn-warning">Продолжить</button>


                        </form>
                    <form class="step" ng-hide="step !== 2">
                            <h3 class="step">Шаг 2</h3>
                            <label for="email">Ваш Email</label>
                            <input class="form-control" id="email" value="admin@sie.com"/>
                            <label for="password">Придуймате пароль</label>
                            <input type="password" class="form-control" id="password" value="http://yoursite.com"/>
                            <label for="password">И введите его повторно</label>
                            <input type="password" class="form-control" id="password2" value="http://yoursite.com"/>
                            <br>
                            <button ng-click="moveStep1()" class="btn btn-warning">Назад</button>
                            <button ng-click="moveStep3()" style="float: right;" class="btn btn-success">Я ознакомлен с <a href="/rules.pdf">условиями обслуживания </a> и хочу перейти к оплате</button>
                    </form>
                    <div class="step" ng-hide="step !== 3">
                        <form id="ShopForm" name="ShopForm" method="POST"
                              action="https://money.yandex.ru/eshop.xml">
                            <h3 class="step">Шаг 3</h3>
                            <input type="hidden" class="form-control" name="ShopID" value="30483">
                            <input type="hidden" name="scid" value="21375">
                            <input type=hidden value="45446" name="shopArticleId">
                            <input type=hidden value="45446" name="CustomerNumber">
                            <input value="300" type=hidden name="Sum">
                            <input value="admin@site.com" type=hidden name="CustEmail">
                        </form>
                        <h5>Сумма к оплате за продвижение по рекламной кампании №<strong>45446</strong>:
                            <span style="font-size:21px;float:right;font-style: italic;font-weight: 100">300 руб.</span>
                        </h5>

                        <h6>Выберите способ оплаты:</h6>

                        <select name="paymentType" form="ShopForm" class="form-control">
                            <option value="PC">Оплата со счета в Яндекс.Деньгах</option>
                            <option value="AC">Оплата банковской картой</option>
                            <option value="GP">Оплата по коду через терминал</option>
                            <option value="WM">Оплата cо счета WebMoney</option>
                            <option value="AB">Оплата через Альфа-Клик</option>
                        </select>
                        <br>
                        <button ng-click="moveStep2()" class="btn btn-warning">Назад</button>
                        <input style="float: right;" class="btn btn-primary" form="ShopForm" type=submit value="Оплатить"><br>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- ./page footer -->

</div>
<!-- ./page container -->

<!-- page scripts -->
<script type="text/javascript">
    var app = angular.module('app', ['webStorageModule']);
    app.controller('registration', function ($scope, webStorage) {
        $scope.step = (webStorage.get('step') !== null) ? webStorage.get('step') : 1;

        $scope.keywords = [];

        $scope.moveStep1 = function (){
            $scope.step = 1;
            webStorage.add('step', 1)
        };
        $scope.moveStep2 = function (){
            $scope.step = 2;
            webStorage.add('step', 2)
        };
        $scope.moveStep3 = function (){
            $scope.step = 3;
            webStorage.add('step', 3)
        };

        $scope.removeCurrency = function(budget){
            if (budget){
                $scope.budget = budget.replace(' руб.','');
                console.log(budget);
            }
        };

        $scope.addCurrency = function(budget){
            if (budget){
                budget = budget + " руб.";
                $scope.budget = budget;
                console.log(budget);
            }
        };
        $scope.addKeyword = function(keyword){
            if (keyword.length >= 1){
                $scope.keywords.push({
                    "word":keyword,
                    "class":"unknown",
                    "popularity":"Неизвестный"
                });
                $scope.keyword = "";
            }
        };
        $scope.deleteKeyword = function ($index, keyword) {
            $scope.keywords.splice($index, 1);
            $scope.$emit('eventDeleted', keyword);
        };
    });
</script>
<!-- ./page scripts -->

</body>
</html>






